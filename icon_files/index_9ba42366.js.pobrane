!function(e,t){"use strict";!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else{var n=t();for(var i in n)("object"==typeof exports?exports:e)[i]=n[i]}}(t,(function(){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var a=t[i]={i:i,l:!1,exports:{}};return e[i].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(i,a,function(t){return e[t]}.bind(null,a));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="https://assets.allegrostatic.com/opbox-multisearch-entrysuggestion/",n(n.s=0)}({0:function(e,t,n){e.exports=n("WdQY")},Aq23:function(e,t){e.exports="https://assets.allegrostatic.com/opbox-multisearch-entrysuggestion/statics/step-1_fc139b92.png"},WdQY:function(e,n,i){i.r(n);var a=i("ji7g"),s=i.n(a),o=i("Aq23"),r=i.n(o),l=i("u5IR"),c=i.n(l),u=i("rwlz"),d=i.n(u);function f(){var e,t,n=(e=['<li class="','"><div data-role="content" class="','"><div class="','"><h5 class="','">',". ",'</h5><p class="','">','</p></div></div><div class="','"><div class="','"><img class="','" src="','" alt="" /></div></div><div class="','"><div class="','"><p class="','">',"</p></div></div></li>"],t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}})));return f=function(){return n},n}var _=[{title:"Jak zacząć szukać wielu przedmiotów naraz?",text:'Włącz opcję "szukaj wielu przedmiotów naraz". Znajdziesz ją pod wyszukiwarką.',imageSrc:r.a},{title:"Wpisz to, czego szukasz",text:"Gdy wyszukasz pierwszą rzecz, wpisz kolejną frazę i kliknij [SZUKAJ]. Jeśli chcesz od razu wpisać wszystko, oddziel poszczególne wyszukiwania średnikiem. Maksymalnie możesz szukać 5 rzeczy naraz.",imageSrc:c.a},{title:"Wybierz sprzedawcę i oferty",text:"Jako wyniki wyszukiwania wyświetlimy Ci listę sprzedawców oferujących wszystkie rzeczy, których szukasz. Kolejność sprzedawców zależy od trafności pierwszego wyszukania. Listy ofert możesz zawęzić korzystając z filtrów lub posortować.",imageSrc:d.a}],h="https://assets.allegrostatic.com/metrum/icon/x-7a9fb85837.svg";function p(){var e,t,n=(e=['<button data-role="modal-close-button" class="','"><svg class="','"><image xlink:href="','" class="','" width="100%" height="100%"></image></svg></button><svg width="0" height="0" style="position:absolute"><filter id="m-color-filter-white" color-interpolation-filters="sRGB"><feColorMatrix values="0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 1 0"></feColorMatrix></filter></svg>'],t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}})));return p=function(){return n},n}function b(){var e,t,n=(e=['<div class="','"><button data-role="enable-multisearch-button" class="','">szukaj wielu przedmiotów naraz</button></div>'],t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}})));return b=function(){return n},n}function v(){var e,t,n=(e=['<div class="','" data-role="modal" data-analytics-enabled data-item data-analytics-view-label="modal-onboarding"><div class="','"></div><div class="','"><div class="','"><div class="','">','<div class="','"><h3 class="','">Nowość - szukaj wielu przedmiotów naraz!</h3><ul class="','">',"</ul></div>","</div></div></div></div>"],t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}})));return v=function(){return n},n}var y={title:"Teraz możesz szukać wielu przedmiotów naraz",content:"Wpisz w wyszukiwarkę kolejną rzecz i kliknij [SZUKAJ], a my wyświetlimy Ci sprzedawców, którzy mają wszystko, czego szukasz. Jesli chcesz wpisać kilka rzeczy naraz, oddziel poszczególne wyszukiwania średnikiem. Maksymalnie możesz szukać 5 rzeczy naraz."},z={title:"Nie teraz? Wypróbuj później!",content:"Opcję szukania wielu przedmiotów naraz znajdziesz tuż pod wyszukiwarką."};function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=function(){function e(n,i,a){var s=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),m(this,"shouldDisplayMessages",!0),m(this,"handleKeyDown",(function(e){"Escape"===e.key&&s.handleModalClose()})),m(this,"handleModalClose",(function(){t.opbox.analytics.sendBoxInteractionEvent({contextNode:s.closeButton,label:"closeOnboarding",value:"disable-multisearch"}),s.close()})),m(this,"handleMultisearchEnable",(function(){t.opbox.analytics.sendBoxInteractionEvent({contextNode:s.enableMultisearchButton,label:"closeOnboarding",value:"enable-multisearch"}),s.close(),s.shouldDisplayMessages&&s.message.open(y),s.onMultisearchEnable&&s.onMultisearchEnable()})),this.node=n,this.message=i,this.onMultisearchEnable=a}var n;return(n=[{key:"initialize",value:function(){this.setDOMElements(),this.modal&&(t.document.body.classList.add("_14l7n"),this.bindEventListeners())}},{key:"open",value:function(){var e,t,n;this.node.insertAdjacentHTML("beforeend",(e=_.map((function(e,t){return s()(f(),"_1bmp9 _1sql3 _8ozz4 _y4398 _1yyhi _1h7wt","_3kk7b _vnd3k _cdwuq","_7qjq4","_1s2v1 _1djie _8ozz4 _35enf _1axvj",t+1,e.title,"_lsy4e _1tmda _9hx3e _ec305_oTdD-",e.text,"_3kk7b _vnd3k _1nwls _35enf","_7qjq4","_7qjq4",s.a.safe(e.imageSrc),"_3kk7b _vnd3k _cdwuq _zhp8y","_7qjq4","_9hx3e",e.text)})),t=s()(p(),"_13q9y _8hkto _nu6wg _1sql3","_nem5f",s.a.safe(h),"_gst97"),n=s()(b(),"_r6475 _1rcax _t2hyt _177bq _1l8iq _7qjq4 _tbx3g _qvhor _1sql3 _ec305_1-_Y8","_13q9y _8hkto _7qjq4 _ec305_3lY33"),s()(v(),"_1d2l9 _133zv _ec305_2bt_O _ec305__vBGd _l7nkx _nyhhx _r6475 _1rcax _t2hyt _1ar9d _8ozz4 _1h7wt","_ec305_2bt_O _otdh7 _t2hyt _l7nkx _1rcax _7qjq4 _fjoiw _1jnsr _1j12f","_fvroe _1yyhi _e5c80 _hhuyy _7qjq4 _1e20t _1779c _1a6dt _1jtn4","_3kk7b _vnd3k _6xshp _67wpb _1plx6 _1us1q","_c2rl2 _1ar9d _7qjq4 _57axu",t,"_9f0v0 _v39zd _lbaop _2sd1r _ec305_BdUl9","_1s2v1 _dsf2b _8ozz4","_3a4zn _1sql3",e,n))),this.shouldDisplayMessages=!1,this.initialize()}},{key:"close",value:function(){this.removeEventListeners(),this.modal.parentNode.removeChild(this.modal),t.document.body.classList.remove("_14l7n"),this.shouldDisplayMessages&&this.message.open(z)}},{key:"setDOMElements",value:function(){this.modal=this.node.querySelector(e.MODAL_SELECTOR),this.closeButton=this.node.querySelector(e.CLOSE_MODAL_SELECTOR),this.enableMultisearchButton=this.node.querySelector(e.ENABLE_MULTISEARCH_SELECTOR)}},{key:"bindEventListeners",value:function(){this.closeButton.addEventListener("click",this.handleModalClose),this.enableMultisearchButton.addEventListener("click",this.handleMultisearchEnable),t.document.addEventListener("keydown",this.handleKeyDown)}},{key:"removeEventListeners",value:function(){t.document.removeEventListener("keydown",this.handleKeyDown)}}])&&function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(e.prototype,n),e}();function w(){var e,t,n=(e=['<div class="','" data-role="message"><button class="','" type="button" data-role="message-close-button"><svg class="','"><image xlink:href="','" class="','" width="100%" height="100%"></image></svg></button><div class="','"><h4 class="','">','</h4><p class="','">','</p></div><div class="','"><button class="','" type="button" data-role="message-close-button">ok, rozumiem</button></div></div><svg width="0" height="0" style="position:absolute"><filter id="m-color-filter-white" color-interpolation-filters="sRGB"><feColorMatrix values="0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 1 0"></feColorMatrix></filter></svg>'],t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}})));return w=function(){return n},n}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}m(g,"MODAL_SELECTOR",'[data-role="modal"]'),m(g,"CLOSE_MODAL_SELECTOR",'[data-role="modal-close-button"]'),m(g,"ENABLE_MULTISEARCH_SELECTOR",'[data-role="enable-multisearch-button"]');var E=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),k(this,"onMessageClose",(function(){n.message.parentNode.removeChild(n.message),n.message=null})),this.node=t}var t;return(t=[{key:"initialize",value:function(){this.setDOMElements(),this.message&&this.bindEventListeners()}},{key:"open",value:function(e){var t,n,i;this.message&&this.onMessageClose(),this.node.insertAdjacentHTML("beforeend",(n=(t=e).title,i=t.content,s()(w(),"_19cvm _10xfd _lbaop _xuk25 _t2hyt _r6475 _1rcax _nyhhx _7qjq4 _1qltd _qyrfa _ec305_301Uo","_13q9y _8hkto _nu6wg _1sql3","_nem5f",s.a.safe(h),"_gst97","_9f0v0 _lbaop","_1s2v1 _1djie _8ozz4 _ec305_34oqc",n,"_1h7wt _9hx3e _8ozz4",i,"_1bo4a _r8zxu _sizcr _1l8iq","_13q9y _8hkto"))),this.initialize()}},{key:"setDOMElements",value:function(){this.message=this.node.querySelector(e.MESSAGE_SELECTOR),this.closeButtons=this.node.querySelectorAll(e.CLOSE_MESSAGE_SELECTOR)}},{key:"bindEventListeners",value:function(){var e=this;this.closeButtons.forEach((function(t){t.addEventListener("click",e.onMessageClose)}))}}])&&function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(e.prototype,t),e}();function j(e){var n=document.createEvent("CustomEvent");n.initCustomEvent("toggle-multisearch",!0,!0,{isChecked:e}),t.dispatchEvent(n)}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}k(E,"MESSAGE_SELECTOR",'[data-role="message"]'),k(E,"CLOSE_MESSAGE_SELECTOR",'[data-role="message-close-button"]');var x=function(){function e(t){var n=t.baseNode,i=t.props;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.baseNode=n,this.props=i}var n;return(n=[{key:"onMount",value:function(){var n=this.baseNode.querySelector(e.OPEN_MODAL_SELECTOR),i=this.baseNode.querySelector(e.CHECKBOX_SELECTOR),a=new E(this.baseNode),s=new g(this.baseNode,a,function(e){return function(){e.checked=!0,t.opbox.analytics.sendEvent(e,"MultisearchCheckboxToggle","enabled"),j(!0)}}(i));s.initialize(),a.initialize(),(this.props.modalOnboarding||this.props.messageOnboarding)&&t.opbox.preferences.set(this.props.userPreference,""+(this.props.onboardingDisplayCount+1)),i&&i.addEventListener("change",(function(e){var n=e.target;t.opbox.analytics.sendEvent(n,"MultisearchCheckboxToggle",n.checked?"enabled":"disabled"),j(e.target.checked)})),n&&n.addEventListener("click",(function(){s.open()}))}}])&&function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(e.prototype,n),e}();O(x,"OPEN_MODAL_SELECTOR",'[data-role="modal-open-button"]'),O(x,"CHECKBOX_SELECTOR",'input[type="checkbox"]'),t.opbox.component.register({prototypeName:"allegro.multisearch.entrysuggestion"},x)},ji7g:function(e,t){var n={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},i=RegExp(Object.keys(n).join("|"),"g");function a(e,t){return null==t&&(t=","),e.length<=0?new s([""],[]):new s([""].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(n=Array(e.length-1).fill(t))||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}(),[""]),e);var n}var s=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._parts=t,this._subs=n}var t;return(t=[{key:"_escapeHtml",value:function(t){return t instanceof e?t:Array.isArray(t)?a(t,""):(t+"").replace(i,(function(e){return n[e]}))}},{key:"toString",value:function(){var e=this;return this._parts.reduce((function(t,n,i){var a=e._subs[i-1];return t+e._escapeHtml(a)+n}))}},{key:"inspect",value:function(){return"".concat(this.constructor.name," '").concat(this.toString(),"'")}}])&&function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(e.prototype,t),e}();function o(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return new s(e,n)}Object.assign(o,{safe:function(e){return new s([e+""],[])},join:a}),e.exports=o},rwlz:function(e,t){e.exports="https://assets.allegrostatic.com/opbox-multisearch-entrysuggestion/statics/step-3_fd7ed2dc.jpg"},u5IR:function(e,t){e.exports="https://assets.allegrostatic.com/opbox-multisearch-entrysuggestion/statics/step-2_8e947f6e.png"}})}))}(0,"undefined"!=typeof window?window:global);